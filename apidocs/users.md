# Users

apiv1/users - хранится информация о пользователях.

### POST /apiv1/users

Используется для создания пользователя, а также для авторизации пользователя. Если пользователя с указанным логином не существует, то сначала создается пользователь с таким логином. Для корректности работы поиска пользователей id пользователя, который был создан позже, будет всегда иметь id больше, чем пользователь, который был зарегистрирован раньше. В случае успешной авторизации возвращается токен, который в дальнейшем отправляется в заголовке "Authorization" во всех запросах. По заголовку "Authorization" сервис определяет, авторизирован пользователь или нет. Все запросы, требующие авторизацию пользователя, возвращают ошибку 401, если запрос пришел от неавторизованного пользователя (отсутствует заголовок "Authorization" или этот заголовок содержит невалидный токен).

##### Коды возврата:
200 - при успешной авторизации;<br />
400 - в случае неправильного запроса (например, пользователь с таким логином уже существует или пароль не удовлетворяет требованиям безопасности).<br />

##### Пример входных данных
    {
        "login":"testlogin",
        "password":"testpassword",
        "aboutyourself":"My name is Andrew!"
    }
    
##### Пример выходных данных
    {
        "accesstoken":"SlAV32hkKG"
    }

### GET /apiv1/users

Возвращает список пользователей, удовлетворяющих заданным параметрам. Описание GET-запроса такого типа находится в файле "filters.md".

##### Коды возврата:
200 - при успешной операции;<br />
204 - если ничего не найдено;<br />
400 - в случае ошибки (например, неверно заданы параметры фильтра).<br />

##### Пример выходных данных:
    {
        "users":[
            {
                "login":"vas",
                "userid":1
            },
            {
                "login":"vasya",
                "userid":2
            }
        ],
        "firstid":3,
        "count":2
    }
    
### PUT /apiv1/users/{id}

Позволяет изменять поле пользователя "О себе". Можно изменить только свои данные.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса;<br />
401 - если команда пришла от неавторизированного пользователя;<br />
403 - если пользователь пытается изменить данные другого пользователя.<br />

##### Пример входных данных
    {
        "aboutyourself":"Ny name is Andrew!"
    }
    
### PUT /apiv1/users/{id}/password

Позволяет изменить пароль пользователя. Можно изменить только свой пароль.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса (например, поле "старый пароль" задано неверно или новый пароль не удовлетворяет требованиям безопасности);<br />
401 - если команда пришла от неавторизированного пользователя;<br />
403 - если пользователь пытается изменить пароль другого пользователя.<br />

##### Пример входных данных
    {
        "oldpassword":"qwerty",
        "newpassword":"1234",
    }
