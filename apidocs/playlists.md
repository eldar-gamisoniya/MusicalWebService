# Playlists

### PUT /apiv1/playlists

Используется для создания нового плейлиста. Будет возвращаться поле id, которое содержит id плейлиста.

##### Коды возврата:
201 - плейлист создан;<br />
400 - в случае ошибки;<br />
401 - если команда пришла от неавторизированного пользователя.<br />

##### Пример входных данных
    {
        "name":"playlist1"
    }
    
##### Пример выходных данных
    {
        "id":1
    }

### GET /apiv1/playlists?userid={userid}&firstid={firstid}&amount={amount}

Возвращает список плейлистов, удовлетворяющих заданным параметрам. В фильтре в параметре userid задается идентификатор пользователя
(обязательный параметр для поиска). Параметр amount определяет, сколько плейлистов будет возвращено, 
а параметр firstid - с какого места начнется формирование списка плейлистов, который будет возвращен. Если параметр
firstid не используется, список плейлистов будет формироваться с самого начала списка хранящихся плейлистов, если параметр amount не указан,
используется значение по умолчанию(10). Также возвращает параметры userid и firstid для GET операции. Они используюся 
для получения следующей части списка. Если в amount задано большее количество элементов, чем осталось в списке,
возвращается столько, сколько осталось, если список закончился, в поле nextfirstid возвращается значение null.

##### Коды возврата:
200 - при успешной операции;<br />
204 - если ничего не найдено;<br />
400 - в случае ошибки (например, неверно заданы параметры фильтра);<br />
401 - если команда пришла от неавторизированного пользователя.<br />

##### Пример выходных данных:
    {
        "playlists":[
            {
                "name":"playlist1",
                "userid":1
                "id":1
            },
            {
                "name":"playlist2",
                "userid":1
                "id":2
            }
        ],
        "userid":1,
        "nextfirstid":3
    }

### GET /apiv1/playlists/{id}

Возвращает информацию о плейлисте: название, логин владельца, список входящих в него композиций.

##### Коды возврата:
200 - при успешной операции;<br />
204 - если плейлист с таким идом не найден;<br />
400 - в случае ошибки;<br />
401 - если команда пришла от неавторизированного пользователя.<br />

##### Пример выходных данных:
    {
      "name":"my_playlist",
      "userid":1,
      "compositions":[
        {
          "performer":"Opus",
          "name":"Life",
          "id":1
        }
      ]
    }

    
### POST /apiv1/playlists/{id}

Позволяет добавить или удалить композицию в/из плейлиста. В поле type допустимы следующие значения:  1 - добавление в плейлист, 2 - удаление из плейлиста. Пользователь может добавлять/удалять композиции только в/из собственного плейлиста.

##### Коды возврата:
200 - при успешной операции;<br />
401 - если команда пришла от неавторизированного пользователя;<br />
400 - если такой композиции не существует, либо при попытке добавить одну и ту же композцию дважды, либо при 
удалении из плейлиста композиции, которой там нет;<br />
403 - если пользователь пытается добавить/удалить композицию в/из чужого плейлиста.<br />

##### Пример входных данных
    {
        "type":1,
        "compositionid":1
    }
    
### POST /apiv1/playlists

Позволяет скопировать плейлист другого пользователя. Возвращает id нового плейлиста(скопированного).

##### Коды возврата:
200 - при успешной операции;<br />
401 - если команда пришла от неавторизированного пользователя;<br />
400 - если плейлиста с таким идентификатором не существует, или пользователь пытается скопировать свой плейлист.<br />

##### Пример входных данных
    {
        "copyingplaylistid":1
        "newid":5
    }

### DELETE /apiv1/playlists/{id}

Удаляет плейлист. Пользователь может удалять только собственные плейлисты.

##### Коды возврата:
200 - при успешной операции;<br />
401 - если команда пришла от неавторизованного пользователя;<br />
400 - если плейлист с таким идентификатором не существует;<br />
403 - если пользователь пытается удалить чужой плейлист.<br />
