# Playlists

apiv1/playlists - хранится информация о плейлистах.

### GET /apiv1/playlists

Возвращает список плейлистов, удовлетворяющих заданным параметрам. Описание GET-запроса такого типа находится в файле "filters.md".

##### Коды возврата:
200 - при успешной операции;<br />
204 - если ничего не найдено;<br />
400 - в случае неправильного запроса (например, неверно заданы параметры фильтра);<br />
401 - если команда пришла от неавторизированного пользователя.<br />

##### Пример выходных данных:
    {
        "playlists":[
            {
                "name":"playlist1",
                "login":"user1",
                "userrid":1,
                "playlistid":1
            },
            {
                "name":"playlist2",
                "login":"user2",
                "userid":2,
                "playlistid":2
            }
        ],
        "firstid":5,
        "count":2
    }

### GET /apiv1/playlists/{id}

Возвращает информацию о плейлисте.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса;<br />
401 - если команда пришла от неавторизированного пользователя;<br />
404 - если плейлист с таким идом не существует.<br />

##### Пример выходных данных:
    {
        "name":"my_playlist",
        "login":"user1",
        "userid":1,
        "playlistid":4,
        "compositions":[
            {
                "login":"user1",
                "userid":1,
                "author":"Opus",
                "performer":"Opus",
                "name":"Life",
                "compositionid":1
            }
        ]
    }

### POST /apiv1/playlists/{id}/compositions

Позволяет добавить композицию в плейлист. Пользователь может добавлять композиции только в собственный плейлист.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса (например, при попытке добавить одну и ту же композцию дважды);<br />
401 - если команда пришла от неавторизированного пользователя;<br />
403 - если пользователь пытается добавить композицию в чужой плейлист;<br />
404 - если плейлист с таким идом не существует.<br />

##### Пример входных данных
    {
        "compositionid":1
    }
    
##### Пример выходных данных
    {
        "compositionid":1,
        "positionId":1
    }
    
### DELETE /apiv1/playlists/{playlistid}/compositions/{compositionid}

Позволяет удалить композицию из плейлиста. Пользователь может удалять композиции только из собственного плейлиста.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса (например, при удалении из плейлиста композиции, которой там нет);<br />
401 - если команда пришла от неавторизированного пользователя;<br />
403 - если пользователь пытается удалить композицию из чужого плейлиста;<br />
404 - если плейлист с таким идом не существует.<br />
    
### POST /apiv1/playlists

Позволяет скопировать плейлист другого пользователя или создать новый плейлист. Возвращает информацию о скопированном/созданном плейлисте. В запросе указывается имя создаваемого плейлиста и, если плейлист копируется, ид копируемого плейлиста. Пользователь может копировать собственные плейлисты.

##### Коды возврата:
201 - при успешном создании плейлиста/копии плейлиста;<br />
400 - в случае неправильного запроса;<br />
401 - если команда пришла от неавторизированного пользователя.<br />


##### Пример входных данных
    {
        "playlistid":1,
        "name":"newplaylist"
    }
    
##### Пример выходных данных
    {
        "name":"newplaylist",
        "login":"user5",
        "userid":5,
        "playlistid":3
    }

### DELETE /apiv1/playlists/{id}

Удаляет плейлист. Пользователь может удалять только собственные плейлисты.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса;<br />
401 - если команда пришла от неавторизованного пользователя;<br />
403 - если пользователь пытается удалить чужой плейлист;<br />
404 - если плейлист с таким идентификатором не существует.<br />
