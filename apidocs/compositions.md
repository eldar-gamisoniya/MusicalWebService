# Compositions

apiv1/compositions - хранится информация о композициях, а также ссылки на файл.<br />
apiv1/sources - хранятся композиции в виде файлов для потокового воспроизведения.

### PUT /apiv1/compositions

Добавляет новую композицию. Входные данные - это mp3 файл, из него берется информация об исполнителе, название песни и т.д. 
Для корректности работы поиска композиций id композиции, которая была сохранена позже,
будет всегда иметь id больше, чем композиция, которая была сохранена раньше.

##### Коды возврата:
201 - композиция успешно добавлена;<br />
400 - в случае неправильного запроса;<br />
401 - если команда пришла от неавторизированного пользователя.<br />

### GET /apiv1/compositions?compositionprefix={somecomposition}&performerprefix={someperformer}&firstid={id}&amount={amount}

Возвращает список композиций, удовлеторяющих заданным параметрам. В фильтре в параметре compositionprefix задается начало названия композиции, если этот параметр не указан, поиск идет по всем композициям. В параметре performerprefix задается начало имени исполнителя/группы, если этот параметр не указан, поиск идет по всем исполнителям. Параметр amount определяет,
сколько композиций будет возвращено, а параметр firstid - с какого места начнется формирования списка композиций, 
который будет возвращен. Если параметр firstid не используется, список композиций будет сформирован с самого начала списка хранящихся композиций,
если параметр amount не указан, используется значение по умолчанию (10). Также возвращает
параметры nextcompositionprefix, nextperformerprefix и nextfirstid для GET операции. Они используются для получения следующей части списка.
Если в amount задано большее количество элементов, чем осталось в списке, возвращается столько элементов,
сколько осталось, если список закончился, в поле nextfirstid возвращается значение null.

##### Коды возврата:
200 - при успешной операции;<br />
204 - если ничего не найдено;<br />
400 - в случае неправильного запроса (например, неверно заданы параметры фильтра).<br />

##### Пример выходных данных:
    {
        "compositions":[
            {
                "login":"vas",
                "author":"Opus",
                "performer":"Opus",,
                "name":"Life",
                "id":1
            }
        ],
        "nextcompositionprefix":"Lif",
        "nextperformerprefix":"Opus",
        "nextfirstid":2
    }
