# Users

apiv1/users - хранится информация о пользователях.

### PUT /apiv1/users

Используется для регистрации нового пользователя. Для корректности работы поиска пользователей id пользователя, который был создан позже, будет всегда иметь id больше, чем пользователь, который был зарегистрирован раньше.

##### Коды возврата:
201 - при успешной операции;<br />
400 - в случае неправильного запроса (например, пользователь с таким логином уже существует или пароль не удовлетворяет требованиям безопасности).<br />

##### Пример входных данных
    {
        "login":"testlogin",
        "password":"testpassword",
        "aboutyourself":"My name is Andrew!"
    }
    
##### Пример выходных данных
    {
        "userid":"1",
        "login":"testlogin",
        "aboutyourself":"My name is Andrew!"
    }
    
### POST /apiv1/users

Используется для авторизации нового пользователя. На вход подается логин и пароль, в случае успешной авторизации возвращается токен, который в дальнейшем отправляется в заголовке "Authorization" во всех запросах. По заголовку "Authorization" сервис определяет, авторизирован пользователь или нет. Все запросы, требующие авторизацию пользователя, возвращают ошибку 401, если запрос пришел от неавторизованного пользователя (отсутствует заголовок "Authorization" или этот заголовок содержит невалидный токен).

##### Коды возврата:
200 - при успешной авторизации;<br />
400 - в случае неправильного запроса (например, неверный пароль или пользователя с таким логином не существует).<br />

##### Пример входных данных
    {
        "login":"testlogin",
        "password":"testpassword"
    }
    
##### Пример выходных данных
    {
        "access_token":"SlAV32hkKG"
    }

### GET /apiv1/users?loginprefix={somelogin}&firstid={id}&amount={amount}

Возвращает список пользователей, удовлетворяющих заданным параметрам. В фильтре в параметре loginprefix задается начало логина, если этот параметр не указан, то поиск идет по всем пользователям. Параметр amount определяет, сколько пользователей будет возвращено, а параметр firstid - с какого места начинать формировать список, который будет возвращен. Если параметр firstid не указан, список пользователей будет формироваться с самого начала списка хранящихся пользователей, если параметр amount не указан, используется значение по умолчанию (10). Также возвращает параметры loginprefix и firstid для GET операции, для получения следующей части списка. Если в amount задано большее количество элементов, чем осталось в списке, возвращается столько, сколько осталось, если список закончился, в поле nextfirstid возвращается значение null.

##### Коды возврата:
200 - при успешной операции;<br />
204 - если ничего не найдено;<br />
400 - в случае ошибки (например, неверно заданы параметры фильтра).<br />

##### Пример выходных данных:
    {
        "users":[
            {
                "login":"vas",
                "userid":1
            },
            {
                "login":"vasya",
                "userid":2
            }
        ],
        "nextloginprefix":"va",
        "nextfirstid":3
    }
    
### PUT /apiv1/users/{id}

Позволяет изменять поле пользователя "О себе". Можно изменить только свои данные.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса;<br />
401 - если команда пришла от неавторизированного пользователя;<br />
403 - если пользователь пытается изменить данные другого пользователя.<br />

##### Пример входных данных
    {
        "aboutyourself":"Ny name is Andrew!"
    }
    
### PUT /apiv1/users/{id}/password

Позволяет изменить пароль пользователя. Можно изменить только свой пароль.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса (например, поле "старый пароль" задано неверно или новый пароль не удовлетворяет требованиям безопасности);<br />
401 - если команда пришла от неавторизированного пользователя;<br />
403 - если пользователь пытается изменить пароль другого пользователя.<br />

##### Пример входных данных
    {
        "oldpassword":"qwerty",
        "newpassword":"1234",
    }
