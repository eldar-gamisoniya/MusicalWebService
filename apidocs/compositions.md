# Compositions

apiv1/compositions - хранятся информация о композициях и ссылки на файл<br />
apiv1/sources - хранятся композиции в виде файлов для потокового воспроизведения

### PUT /apiv1/compositions

Добавляет новую композицию. Входные данные - это mp3 файл, оттуда берется информация о исполнителе, названии песни и т.д. 
Возвращает id композиции (id одинаковый для apiv1/compositions и apiv1/sources).
Для корректности работы поиска композиций id композиции, которая была создана позже,
будет всегда иметь id больше, чем композиция, которая была зарегистрирована раньше.

##### Коды возврата:
201 - композиция успешно добавлена;<br />
400 - в случае ошибки

### GET /apiv1/compositions?compositionprefix=somecomposition&performerprefix=someperformer&firstid=1&amount=5

Возвращает список композиций, в фильтре в параметре compositionprefix задается начало названия композиции,
если этот параметр не указан, поиск идет по всем композициям, и параметр performerprefix, в котором задается 
начало имени исполнителя/группы, если этот параметр не указан, поиск идет по всем исполнителям. Параметр amount определяет,
сколько композиций будет возвращено, а параметр firstid - с какого места начнется список композиций, 
который будет возвращен. Если параметр firstid не используется, список композиций начнется с начала списка,
если параметр amount не указан, используется значение по умолчанию(10). Также возвращает
параметры compositionprefix и firstid для GET операции, для получения следующей части списка.
Если в amount задано большее количество элементов, чем осталось в списке, возвращается столько,
сколько осталось, если список закончился, в поле nextfirstid возвращается значение null.

##### Коды возврата:
200 - при успешной операции<br />
204 - если ничего не найдено<br />
400 - в случае ошибки (например неверно заданы параметры фильтра)

##### Пример выходных данных:
    {
        "compositions":[
            {
                "login":"vas",
                "author":"Opus",
                "performer":"Opus",,
                "name":"Life",
                "id":1
            }
        ],
        "nextcompositionprefix":"lif",
        "nextperformerprefix":"Opus",
        "nextfirstid":2
    }
