# Playlists

apiv1/playlists - хранится информация о плейлистах.

### PUT /apiv1/playlists

Используется для создания нового плейлиста.

##### Коды возврата:
201 - плейлист создан;<br />
400 - в случае неправильного запроса;<br />
401 - если команда пришла от неавторизированного пользователя.<br />

##### Пример входных данных
    {
        "name":"playlist1"
    }
    
##### Пример выходных данных
    {
        "name":"playlist1",
        "login":"somelogin",
        "userid":5,
        "playlistid":3
    }

### GET /apiv1/playlists?userid={userid}&firstid={firstid}&amount={amount}

Возвращает список плейлистов, удовлетворяющих заданным параметрам. В фильтре в параметре userid задается идентификатор пользователя
(обязательный параметр для поиска). Параметр amount определяет, сколько плейлистов будет возвращено, 
а параметр firstid - с какого места начнется формирование списка плейлистов, который будет возвращен. Если параметр
firstid не используется, список плейлистов будет формироваться с самого начала списка хранящихся плейлистов, если параметр amount не указан,
используется значение по умолчанию (10). Также возвращает параметры userid и nextfirstid для GET операции. Они используюся 
для получения следующей части списка. Если в amount задано большее количество элементов, чем осталось в списке,
возвращается столько, сколько осталось, если список закончился, в поле nextfirstid возвращается значение null.

##### Коды возврата:
200 - при успешной операции;<br />
204 - если ничего не найдено;<br />
400 - в случае неправильного запроса (например, неверно заданы параметры фильтра);<br />
401 - если команда пришла от неавторизированного пользователя.<br />

##### Пример выходных данных:
    {
        "playlists":[
            {
                "name":"playlist1",
                "login":"user1",
                "userrid":1,
                "playlistid":1
            },
            {
                "name":"playlist2",
                "login":"user2",
                "userid":2,
                "playlistid":2
            }
        ],
        "userid":1,
        "nextfirstid":3
    }

### GET /apiv1/playlists/{id}

Возвращает информацию о плейлисте: название плейлиста, ид владельца, список входящих в него композиций.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса;<br />
401 - если команда пришла от неавторизированного пользователя;<br />
404 - если плейлист с таким идом не существует.<br />

##### Пример выходных данных:
    {
        "name":"my_playlist",
        "login":"user1",
        "userid":1,
        "playlistid":4,
        "compositions":[
            {
                "login":"user1",
                "userid":1,
                "author":"Opus",
                "performer":"Opus",
                "name":"Life",
                "compositionid":1
            }
        ]
    }

### PUT /apiv1/playlists/{id}

Позволяет добавить композицию в плейлист. Пользователь может добавлять композиции только в собственный плейлист.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса (например, при попытке добавить одну и ту же композцию дважды);<br />
401 - если команда пришла от неавторизированного пользователя;<br />
403 - если пользователь пытается добавить композицию в чужой плейлист;<br />
404 - если плейлист с таким идом не существует.<br />

##### Пример входных данных
    {
        "compositionid":1
    }
    
### DELETE /apiv1/playlists/{playlistid}/{compositionid}

Позволяет удалить композицию из плейлиста. Пользователь может удалять композиции только из собственного плейлиста.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса (например, при удалении из плейлиста композиции, которой там нет);<br />
401 - если команда пришла от неавторизированного пользователя;<br />
403 - если пользователь пытается удалить композицию из чужого плейлиста;<br />
404 - если плейлист с таким идом не существует.<br />
    
### POST /apiv1/playlists

Позволяет скопировать плейлист другого пользователя. Возвращает информацию о скопированном плейлисте. В запросе указывается ид копируемого плейлиста и имя скопированного плейлиста. Пользователь может копировать собственные плейлисты.

##### Коды возврата:
201 - при успешном создании копии плейлиста;<br />
400 - в случае неправильного запроса (например, плейлист с таким идентификатором не существует);<br />
401 - если команда пришла от неавторизированного пользователя.<br />


##### Пример входных данных
    {
        "playlistid":1,
        "name":"newplaylist"
    }
    
##### Пример выходных данных
    {
        "name":"newplaylist",
        "login":"user5",
        "userid":5,
        "playlistid":3
    }

### DELETE /apiv1/playlists/{id}

Удаляет плейлист. Пользователь может удалять только собственные плейлисты.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае неправильного запроса;<br />
401 - если команда пришла от неавторизованного пользователя;<br />
403 - если пользователь пытается удалить чужой плейлист;<br />
404 - если плейлист с таким идентификатором не существует.<br />
