# Users

/api/v1/users - хранится информация о пользователях.

### POST /api/v1/users

Используется для создания нового пользователя. В запросе передается логин (login) и пароль (password). Допустимые символы для логина: латинские маленькие и большие буквы, цифры. Также в запросе может передаваться информация о пользователе (aboutyourself).

##### Коды возврата:
201 - при успешном создании пользователя;<br />
400 - в случае ошибки (например, логин содержит недопустимые символы).<br />

##### Пример входных данных
    login=testlogin
    password=testpassword
    aboutyourself=My name is Andrew!
    
##### Пример выходных данных
    {
        "id":"5692c26bf9a2f348af293ef3",
        "login":"testlogin",
        "aboutyourself":"My name is Andrew!"
    }
    
### POST /api/v1/users/{login}/token

Используется для авторизации пользователя. В случае успешной авторизации возвращается токен, который в дальнейшем отправляется вместе с логином во всех запросах, требующих авторизацию. Все запросы, требующие авторизацию пользователя, возвращают ошибку 401, если запрос пришел от неавторизованного пользователя.

##### Коды возврата:
200 - при успешной авторизации;<br />
400 - в случае ошибки (например, неверный пароль).<br />

##### Пример входных данных
    password=testpassword
    
##### Пример выходных данных
    {
        "token":"d8f9779e-46b3-4975-b08a-b012197d12ca"
    }
    
### DELETE /api/v1/users/{login}/token/{token}

Используется для дисконнекта пользователя. Токен пользователя удаляется.

##### Коды возврата:
200 - при успешном дисконнекте;<br />
400 - в случае ошибки (например, неверный токен).<br />
    
##### Пример выходных данных
    {
        "token":""
    }

### GET /api/v1/users

Возвращает список пользователей, удовлетворяющих заданным параметрам. Описание GET-запроса такого типа находится в файле "filters.md".

##### Коды возврата:
200 - при успешной операции;<br />
204 - если ничего не найдено;<br />
400 - в случае ошибки (например, неверно заданы параметры фильтра).<br />

##### Пример выходных данных:
    {
        "users":[
            {
                "id":"5692c26bf9a2f348af293ef4",
                "login":"testlogin1",
                "aboutyourself":"info1"
            },
            {
                "id":"5692c26bf9a2f348af293ef5",
                "login":"testlogin2",
                "aboutyourself":"info2"
            }
        ],
        "count":2,
        "nextskipcount":4
    }
    
### GET /api/v1/users/{login}

Возвращает информацию о пользователе.

##### Коды возврата:
200 - при успешной операции;<br />
404 - если пользователь не найден.<br />

##### Пример выходных данных:
    {
        "id":"5692c26bf9a2f348af293ef3",
        "login":"testlogin",
        "aboutyourself":"My name is Andrew!"
    }
    
### POST /api/v1/users/{login}

Позволяет изменять поле пользователя "О себе". Можно изменить только свои данные.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае ошибки;<br />
401 - если команда пришла от неавторизированного пользователя;<br />
403 - если пользователь пытается изменить данные другого пользователя.<br />

##### Пример входных данных
    token=d8f9779e-46b3-4975-b08a-b012197d12ca
    aboutyourself=new info
    
##### Пример выходных данных
    {
        "id":"5692c26bf9a2f348af293ab3",
        "login":"testlogin3",
        "aboutyourself":"new info"
    }
    
### POST /api/v1/users/{login}/password

Позволяет изменить пароль пользователя. Можно изменить только свой пароль.

##### Коды возврата:
200 - при успешной операции;<br />
400 - в случае ошибки;<br />
401 - если команда пришла от неавторизированного пользователя;<br />
403 - если пользователь пытается изменить пароль другого пользователя.<br />

##### Пример входных данных
    token=d8f9779e-46b3-4975-b08a-b012197d12ca
    oldpassword=qwerty
    newpassword=1234
    
##### Пример выходных данных
    {
        "id":"5692c26bf9a2f348af293ab3",
        "login":"testlogin3",
        "aboutyourself":"new info"
    }
